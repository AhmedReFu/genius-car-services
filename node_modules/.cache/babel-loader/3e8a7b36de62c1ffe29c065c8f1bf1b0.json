{"ast":null,"code":"import _slicedToArray from\"C:/Ahmed_ReFat/genius-car-services/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef}from'react';import{Button,Form}from'react-bootstrap';import{useSignInWithEmailAndPassword}from'react-firebase-hooks/auth';import{Link,useLocation,useNavigate}from'react-router-dom';import auth from'../../../firebase.init';import SocialLogin from'../SocialLogin/SocialLogin';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _location$state,_location$state$from;var _useSignInWithEmailAn=useSignInWithEmailAndPassword(auth),_useSignInWithEmailAn2=_slicedToArray(_useSignInWithEmailAn,4),signInWithEmailAndPassword=_useSignInWithEmailAn2[0],user=_useSignInWithEmailAn2[1],loading=_useSignInWithEmailAn2[2],error=_useSignInWithEmailAn2[3];var emailRef=useRef('');var passwordRef=useRef('');var navigate=useNavigate();var navigateRegister=function navigateRegister(){navigate('/register');};var location=useLocation();var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||\"/\";if(user){navigate(from,{replace:true});}var handleSubmit=function handleSubmit(event){event.preventDefault();var email=emailRef.current.value;var password=passwordRef.current.value;signInWithEmailAndPassword(email,password);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container w-50 mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-primary text-center mt-2\",children:\"Please Login\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{ref:emailRef,type:\"email\",placeholder:\"Enter email\",required:true})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:/*#__PURE__*/_jsx(Form.Control,{ref:passwordRef,type:\"password\",placeholder:\"Password\",required:true})}),loading&&/*#__PURE__*/_jsx(_Fragment,{children:\"Loading...\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"w-25\",type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4\",children:[\"New to Genius car? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-danger pe-auto text-decoration-none\",onClick:navigateRegister,children:\"Please Register\"})]}),/*#__PURE__*/_jsx(SocialLogin,{})]});};export default Login;","map":{"version":3,"names":["React","useRef","Button","Form","useSignInWithEmailAndPassword","Link","useLocation","useNavigate","auth","SocialLogin","Login","signInWithEmailAndPassword","user","loading","error","emailRef","passwordRef","navigate","navigateRegister","location","from","state","pathname","replace","handleSubmit","event","preventDefault","email","current","value","password"],"sources":["C:/Ahmed_ReFat/genius-car-services/src/Pages/Login/Login/Login.js"],"sourcesContent":["import React, { useRef } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { useSignInWithEmailAndPassword } from 'react-firebase-hooks/auth';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport auth from '../../../firebase.init';\r\nimport SocialLogin from '../SocialLogin/SocialLogin';\r\n\r\nconst Login = () => {\r\n    const [\r\n        signInWithEmailAndPassword,\r\n        user,\r\n        loading,\r\n        error,\r\n    ] = useSignInWithEmailAndPassword(auth);\r\n    const emailRef = useRef('');\r\n    const passwordRef = useRef('');\r\n    const navigate = useNavigate();\r\n    const navigateRegister = () => {\r\n        navigate('/register')\r\n    }\r\n    const location = useLocation();\r\n    const from = location.state?.from?.pathname || \"/\";\r\n    if (user) {\r\n        navigate(from, { replace: true });\r\n    }\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        const email = emailRef.current.value;\r\n        const password = passwordRef.current.value;\r\n\r\n        signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    return (\r\n        <div className='container w-50 mx-auto'>\r\n            <h2 className='text-primary text-center mt-2'>Please Login</h2>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Control ref={emailRef} type=\"email\" placeholder=\"Enter email\" required />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Control ref={passwordRef} type=\"password\" placeholder=\"Password\" required />\r\n                </Form.Group>\r\n                {\r\n                    loading && <>Loading...</>\r\n                }\r\n                <Button variant=\"primary\" className='w-25' type=\"submit\">\r\n                    Login\r\n                </Button>\r\n            </Form>\r\n            <p className='mt-4'>New to Genius car? <Link to='/register' className='text-danger pe-auto text-decoration-none' onClick={navigateRegister}>Please Register</Link></p>\r\n            <SocialLogin></SocialLogin>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"wHAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OAASC,MAAT,CAAiBC,IAAjB,KAA6B,iBAA7B,CACA,OAASC,6BAAT,KAA8C,2BAA9C,CACA,OAASC,IAAT,CAAeC,WAAf,CAA4BC,WAA5B,KAA+C,kBAA/C,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,C,6IAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,0CAChB,0BAKIN,6BAA6B,CAACI,IAAD,CALjC,gEACIG,0BADJ,2BAEIC,IAFJ,2BAGIC,OAHJ,2BAIIC,KAJJ,2BAMA,GAAMC,CAAAA,QAAQ,CAAGd,MAAM,CAAC,EAAD,CAAvB,CACA,GAAMe,CAAAA,WAAW,CAAGf,MAAM,CAAC,EAAD,CAA1B,CACA,GAAMgB,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACA,GAAMW,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3BD,QAAQ,CAAC,WAAD,CAAR,CACH,CAFD,CAGA,GAAME,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACA,GAAMc,CAAAA,IAAI,CAAG,kBAAAD,QAAQ,CAACE,KAAT,gFAAgBD,IAAhB,oEAAsBE,QAAtB,GAAkC,GAA/C,CACA,GAAIV,IAAJ,CAAU,CACNK,QAAQ,CAACG,IAAD,CAAO,CAAEG,OAAO,CAAE,IAAX,CAAP,CAAR,CACH,CACD,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC1BA,KAAK,CAACC,cAAN,GACA,GAAMC,CAAAA,KAAK,CAAGZ,QAAQ,CAACa,OAAT,CAAiBC,KAA/B,CACA,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,CAACY,OAAZ,CAAoBC,KAArC,CAEAlB,0BAA0B,CAACgB,KAAD,CAAQG,QAAR,CAA1B,CACH,CAND,CAQA,mBACI,aAAK,SAAS,CAAC,wBAAf,wBACI,WAAI,SAAS,CAAC,+BAAd,0BADJ,cAEI,MAAC,IAAD,EAAM,QAAQ,CAAEN,YAAhB,wBACI,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,CAA6B,SAAS,CAAC,gBAAvC,uBACI,KAAC,IAAD,CAAM,OAAN,EAAc,GAAG,CAAET,QAAnB,CAA6B,IAAI,CAAC,OAAlC,CAA0C,WAAW,CAAC,aAAtD,CAAoE,QAAQ,KAA5E,EADJ,EADJ,cAKI,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,CAA6B,SAAS,CAAC,mBAAvC,uBACI,KAAC,IAAD,CAAM,OAAN,EAAc,GAAG,CAAEC,WAAnB,CAAgC,IAAI,CAAC,UAArC,CAAgD,WAAW,CAAC,UAA5D,CAAuE,QAAQ,KAA/E,EADJ,EALJ,CASQH,OAAO,eAAI,uCATnB,cAWI,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,SAAS,CAAC,MAApC,CAA2C,IAAI,CAAC,QAAhD,mBAXJ,GAFJ,cAiBI,WAAG,SAAS,CAAC,MAAb,8CAAuC,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,0CAA/B,CAA0E,OAAO,CAAEK,gBAAnF,6BAAvC,GAjBJ,cAkBI,KAAC,WAAD,IAlBJ,GADJ,CAsBH,CAhDD,CAkDA,cAAeR,CAAAA,KAAf"},"metadata":{},"sourceType":"module"}