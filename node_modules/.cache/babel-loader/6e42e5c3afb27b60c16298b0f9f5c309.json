{"ast":null,"code":"import _asyncToGenerator from\"C:/Ahmed_ReFat/genius-car-services/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Ahmed_ReFat/genius-car-services/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Ahmed_ReFat\\\\genius-car-services\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import{useCreateUserWithEmailAndPassword,useSendEmailVerification,useUpdateProfile}from'react-firebase-hooks/auth';import{Link,useNavigate}from'react-router-dom';import auth from'../../../firebase.init';import Loading from'../../Shared/Loading/Loading';import SocialLogin from'../SocialLogin/SocialLogin';import'./Register.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),agree=_useState2[0],setAgree=_useState2[1];var _useCreateUserWithEma=useCreateUserWithEmailAndPassword(auth,{sendEmailVerification:true}),_useCreateUserWithEma2=_slicedToArray(_useCreateUserWithEma,4),createUserWithEmailAndPassword=_useCreateUserWithEma2[0],user=_useCreateUserWithEma2[1],loading=_useCreateUserWithEma2[2],error=_useCreateUserWithEma2[3];var _useUpdateProfile=useUpdateProfile(auth),_useUpdateProfile2=_slicedToArray(_useUpdateProfile,3),updateProfile=_useUpdateProfile2[0],updating=_useUpdateProfile2[1],updateError=_useUpdateProfile2[2];var navigate=useNavigate();var navigateLogin=function navigateLogin(){navigate('/login');};if(loading||updating){return/*#__PURE__*/_jsx(Loading,{});}if(user){console.log('user',user);}var handleRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var name,email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();name=event.target.name.value;email=event.target.email.value;password=event.target.password.value;// const agree = event.target.terms.checked\n// if (agree) {\n//     createUserWithEmailAndPassword(email, password);\n// }\n_context.next=6;return createUserWithEmailAndPassword(email,password);case 6:_context.next=8;return updateProfile({displayName:name});case 8:console.log(user);navigate('/login');case 10:case\"end\":return _context.stop();}}},_callee);}));return function handleRegister(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"register-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-primary text-center mb-5\",children:\"Please Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"\",placeholder:\"your name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"\",placeholder:\"Email Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"\",placeholder:\"password\",required:true}),/*#__PURE__*/_jsx(\"input\",{onClick:function onClick(){return setAgree(!agree);},type:\"checkbox\",name:\"terms\",id:\"terms\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ps-2 \".concat(agree?'':'text-danger'),htmlFor:\"terms\",children:\" Accept Genius Car Terms and Conditions\"}),/*#__PURE__*/_jsx(\"input\",{disabled:!agree,type:\"submit\",className:\"btn btn-primary w-50 mx-auto mt-2\",value:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-primary pe-auto text-decoration-none\",onClick:navigateLogin,children:\"Please Login\"})]}),/*#__PURE__*/_jsx(SocialLogin,{})]});};export default Register;","map":{"version":3,"names":["React","useState","useCreateUserWithEmailAndPassword","useSendEmailVerification","useUpdateProfile","Link","useNavigate","auth","Loading","SocialLogin","Register","agree","setAgree","sendEmailVerification","createUserWithEmailAndPassword","user","loading","error","updateProfile","updating","updateError","navigate","navigateLogin","console","log","handleRegister","event","preventDefault","name","target","value","email","password","displayName"],"sources":["C:/Ahmed_ReFat/genius-car-services/src/Pages/Login/Register/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useCreateUserWithEmailAndPassword, useSendEmailVerification, useUpdateProfile } from 'react-firebase-hooks/auth';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport auth from '../../../firebase.init';\r\nimport Loading from '../../Shared/Loading/Loading';\r\nimport SocialLogin from '../SocialLogin/SocialLogin';\r\nimport './Register.css'\r\n\r\nconst Register = () => {\r\n\r\n    const [agree, setAgree] = useState(false);\r\n    const [\r\n        createUserWithEmailAndPassword,\r\n        user,\r\n        loading,\r\n        error,\r\n    ] = useCreateUserWithEmailAndPassword(auth, { sendEmailVerification: true });\r\n\r\n    const [updateProfile, updating, updateError] = useUpdateProfile(auth);\r\n\r\n    const navigate = useNavigate();\r\n    const navigateLogin = () => {\r\n        navigate('/login')\r\n    }\r\n    if (loading || updating) {\r\n        return <Loading></Loading>\r\n    }\r\n    if (user) {\r\n        console.log('user', user)\r\n    }\r\n    const handleRegister = async (event) => {\r\n        event.preventDefault();\r\n        const name = event.target.name.value;\r\n        const email = event.target.email.value;\r\n        const password = event.target.password.value;\r\n        // const agree = event.target.terms.checked\r\n        // if (agree) {\r\n        //     createUserWithEmailAndPassword(email, password);\r\n\r\n        // }\r\n        await createUserWithEmailAndPassword(email, password);\r\n        await updateProfile({ displayName: name });\r\n        console.log(user);\r\n        navigate('/login')\r\n    }\r\n    return (\r\n        <div className='register-form'>\r\n            <h2 className='text-primary text-center mb-5'>Please Register</h2>\r\n            <form onSubmit={handleRegister}>\r\n                <input type=\"text\" name=\"name\" id=\"\" placeholder='your name' />\r\n\r\n                <input type=\"email\" name='email' id='' placeholder='Email Address' required />\r\n\r\n                <input type=\"password\" name=\"password\" id=\"\" placeholder='password' required />\r\n\r\n                <input onClick={() => setAgree(!agree)} type=\"checkbox\" name=\"terms\" id=\"terms\" />\r\n                {/* <label className={agree ? 'ps-2' : 'ps-2 text-danger'} htmlFor=\"terms\"> Accept Genius Car Terms and Conditions</label> */}\r\n                <label className={`ps-2 ${agree ? '' : 'text-danger'}`} htmlFor=\"terms\"> Accept Genius Car Terms and Conditions</label>\r\n\r\n                <input\r\n                    disabled={!agree}\r\n                    type=\"submit\"\r\n                    className='btn btn-primary w-50 mx-auto mt-2'\r\n                    value=\"Register\" />\r\n\r\n            </form>\r\n            <p className='mt-4'>Already have an account? <Link to='/login' className='text-primary pe-auto text-decoration-none' onClick={navigateLogin}>Please Login</Link></p>\r\n            <SocialLogin></SocialLogin>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}