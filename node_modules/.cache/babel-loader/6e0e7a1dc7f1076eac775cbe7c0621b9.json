{"ast":null,"code":"var _jsxFileName = \"C:\\\\Ahmed_ReFat\\\\genius-car-services\\\\src\\\\Pages\\\\Login\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { useSendPasswordResetEmail, useSignInWithEmailAndPassword } from 'react-firebase-hooks/auth';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport auth from '../../../firebase.init';\nimport Loading from '../../Shared/Loading/Loading';\nimport SocialLogin from '../SocialLogin/SocialLogin';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  var _location$state, _location$state$from;\n\n  const [signInWithEmailAndPassword, user, loading, error] = useSignInWithEmailAndPassword(auth);\n  const [sendPasswordResetEmail, sending] = useSendPasswordResetEmail(auth);\n  const emailRef = useRef('');\n  const passwordRef = useRef('');\n  const navigate = useNavigate();\n\n  const navigateRegister = () => {\n    navigate('/register');\n  };\n\n  const resetPassword = async () => {\n    const email = emailRef.current.value;\n    await sendPasswordResetEmail(email);\n    toast('Sent email');\n  };\n\n  const location = useLocation();\n  const from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname) || \"/\";\n\n  if (loading || sending) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (user) {\n    navigate(from, {\n      replace: true\n    });\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const email = emailRef.current.value;\n    const password = passwordRef.current.value;\n    signInWithEmailAndPassword(email, password);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container w-50 mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-primary text-center mt-2\",\n      children: \"Please Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formBasicEmail\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          ref: emailRef,\n          type: \"email\",\n          placeholder: \"Enter email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formBasicPassword\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          ref: passwordRef,\n          type: \"password\",\n          placeholder: \"Password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary w-50 mx-auto d-block \",\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger\",\n        children: error === null || error === void 0 ? void 0 : error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"New to Genius car? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        className: \"text-primary pe-auto text-decoration-none\",\n        onClick: navigateRegister,\n        children: \"Please Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Forget Password? \", /*#__PURE__*/_jsxDEV(\"button\", {\n        to: \"\",\n        className: \"btn btn-linktext-primary pe-auto text-decoration-none\",\n        onClick: resetPassword,\n        children: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SocialLogin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"LMugYaTgEL8/Fda0qhWK3jqafUA=\", false, function () {\n  return [useSignInWithEmailAndPassword, useSendPasswordResetEmail, useNavigate, useLocation];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useRef","Button","Form","useSendPasswordResetEmail","useSignInWithEmailAndPassword","Link","useLocation","useNavigate","auth","Loading","SocialLogin","ToastContainer","toast","Login","signInWithEmailAndPassword","user","loading","error","sendPasswordResetEmail","sending","emailRef","passwordRef","navigate","navigateRegister","resetPassword","email","current","value","location","from","state","pathname","replace","handleSubmit","event","preventDefault","password","message"],"sources":["C:/Ahmed_ReFat/genius-car-services/src/Pages/Login/Login/Login.js"],"sourcesContent":["import React, { useRef } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { useSendPasswordResetEmail, useSignInWithEmailAndPassword } from 'react-firebase-hooks/auth';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport auth from '../../../firebase.init';\r\nimport Loading from '../../Shared/Loading/Loading';\r\nimport SocialLogin from '../SocialLogin/SocialLogin';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nconst Login = () => {\r\n    const [\r\n        signInWithEmailAndPassword,\r\n        user,\r\n        loading,\r\n        error,\r\n    ] = useSignInWithEmailAndPassword(auth);\r\n    const [sendPasswordResetEmail, sending] = useSendPasswordResetEmail(auth);\r\n    const emailRef = useRef('');\r\n    const passwordRef = useRef('');\r\n    const navigate = useNavigate();\r\n    const navigateRegister = () => {\r\n        navigate('/register')\r\n    }\r\n    const resetPassword = async () => {\r\n        const email = emailRef.current.value;\r\n        await sendPasswordResetEmail(email);\r\n        toast('Sent email')\r\n    }\r\n    const location = useLocation();\r\n    const from = location.state?.from?.pathname || \"/\";\r\n    if (loading || sending) {\r\n        return <Loading></Loading>\r\n    }\r\n    if (user) {\r\n        navigate(from, { replace: true });\r\n    }\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        const email = emailRef.current.value;\r\n        const password = passwordRef.current.value;\r\n\r\n        signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    return (\r\n        <div className='container w-50 mx-auto'>\r\n            <h2 className='text-primary text-center mt-2'>Please Login</h2>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Control ref={emailRef} type=\"email\" placeholder=\"Enter email\" required />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Control ref={passwordRef} type=\"password\" placeholder=\"Password\" required />\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary w-50 mx-auto d-block \" type=\"submit\">\r\n                    Login\r\n                </Button>\r\n                <p className='text-danger'>{error?.message}</p>\r\n            </Form>\r\n            <p>New to Genius car? <Link to='/register' className='text-primary pe-auto text-decoration-none' onClick={navigateRegister}>Please Register</Link></p>\r\n            <p>Forget Password? <button to='' className='btn btn-linktext-primary pe-auto text-decoration-none' onClick={resetPassword}>Reset Password</button></p>\r\n            <SocialLogin></SocialLogin>\r\n            <ToastContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}